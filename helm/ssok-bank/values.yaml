# SSOK-BANK 기본 values 입니다.

replicaCount: 3

image:
  repository: kudong/ssok-bank
  pullPolicy: IfNotPresent
  tag: "latest" # chart appVersion의 이미지 태그를 덮어쓰기

nameOverride: ""
fullnameOverride: ""

serviceAccount:
  create: true
  annotations: {}
  name: ""

bank:
  config:
    SERVER_PORT: "8080"
    KAFKA_BOOTSTRAP_SERVERS: "broker.kafka.svc.cluster.local:9092"
    KAFKA_TRUSTED_PACKAGES: "kr.ssok.model"
    DB_URL: "jdbc:mariadb://172.21.1.22:3306/moni?useUnicode=true&characterEncoding=utf-8&serverTimeZone=Asia/Seoul"
    ENCRYPTION_KEY: "ss0k-bank-admin1"
  db:
    DB_USERNAME: bGdjbnM=
    DB_PASSWORD: dGxkcHNkcHRt

log:
  fluentbit:
    conf: |
      [SERVICE]
          Flush         1
          Daemon        Off
          Log_Level     info
          Parsers_File  parsers.conf

      [INPUT]
          Name              tail
          Path              /var/log/ssok-bank.log
          Parser            json
          Tag               app.log 
          Refresh_Interval  5
          Mem_Buf_Limit     10MB
          Skip_Long_Lines   On

      [OUTPUT]
          Name              stdout
          Match             app.*

      [OUTPUT]
          Name              forward
          Match             app.*
          Host              fluentd-aggregator.logging.svc.cluster.local
          Port              24224
  parsers:
    conf: |
      [PARSER]
          Name              json
          Format            json
          Time_Key          time
          Time_Format       %Y-%m-%dT%H:%M:%S.%L

# service:
#   type: ClusterIP
#   port: 80







